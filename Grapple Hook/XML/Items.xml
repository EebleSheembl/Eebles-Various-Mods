<?xml version="1.0" encoding="utf-8"?>
<Items>

  <Item name="Grapple Hook" identifier="Grapple" category="Equipment" tags="" Scale="0.5" impactsoundtag="impact_metal_light" hideinmenus="false" nonplayerteaminteractable="false">
    <Sprite texture="%ModDir%/Sprites/Utility Tools.png" sourcerect="4,9,83,45" depth="0.55" origin="0.5,0.6" />
    <Body width="80" height="25" density="5" />
    <Holdable slots="Any,RightHand,LeftHand" controlpose="false" aimpos="150,0" handle1="-60,-2" holdangle="0" usehandrotationforholdangle="true" msg="ItemMsgPickUpSelect" />

    <RangedWeapon barrelpos="45,0" spread="0" drawhudwhenequipped="true" crosshairscale="0.2">
      <Crosshair texture="Content/Items/Weapons/Crosshairs.png" sourcerect="0,256,256,256" />
      <CrosshairPointer texture="Content/Items/Weapons/Crosshairs.png" sourcerect="256,256,256,256" />
      <Sound file="Content/Items/Weapons/HarpoonGun1.ogg" type="OnUse" range="1000" />
      <Sound file="Content/Items/Weapons/HarpoonGun2.ogg" type="OnUse" range="1000" />
      <Sound file="Content/Items/Weapons/HarpoonGun3.ogg" type="OnUse" range="1000" />
      <StatusEffect type="OnUse" target="This">
        <Explosion range="150.0" force="5" shockwave="true" smoke="true" flames="false" flash="false" sparks="true" underwaterbubble="true" camerashake="1.0" />
      </StatusEffect>
      <StatusEffect type="OnSpawn" target="This" targetitemcomponent="ItemContainer">
        <SpawnItem identifier="Hook" spawnposition="ThisInventory" />
      </StatusEffect>
      <StatusEffect delay="5" type="OnUse" target="This" targetitemcomponent="ItemContainer">
        <SpawnItem identifier="Hook" spawnposition="ThisInventory" />
      </StatusEffect>
      <StatusEffect type="OnUse" target="Parent" targetitemcomponent="ItemContainer">
        <Affliction identifier="stun" amount="10" />
      </StatusEffect>
    </RangedWeapon>
    <ItemContainer hideitems="true" capacity="1" maxstacksize="1" containedstateindicatorstyle="spear">
      <Containable items="Hook" />
    </ItemContainer>

  </Item>

  <Item identifier="Hook" category="hidden" interactthroughwalls="true" tags="mediumitem,harpoonammo,handheldammo" Scale="0.5" impactsoundtag="impact_metal_light" hideinmenus="true" nonplayerteaminteractable="True">
    <Sprite texture="%ModDir%/Sprites/Utility Tools.png" sourcerect="4,54,35,14" depth="0.55" origin="0.3,0.5" />
    <Body width="70" height="20" density="50" />
    <Rope sourcepullforce="8000" targetpullforce="0" projectilepullforce="0" maxlength="10000" snaponcollision="false" spritewidth="4" tile="true" origin="0.30,0.5" targetminmass="-10" lerpforces="false" SnapWhenNotAimed="False" snapanimduration="0.5" ReelSoundPitchSlide="1.0,2.25">
      <Sprite name="Rope" texture="Content/Characters/Fractalguardian/Fractalguardian.png" sourcerect="343,622,32,15" depth="0.57" origin="0.5,0.5" />
      <SnapSound file="Content/Items/Weapons/HarpoonGun1.ogg" range="500" frequencymultiplier="3.0,4.0" />
      <ReelSound file="Content/Items/Weapons/WEAPON_harpoonGunReelLoop.ogg" range="1000" />
      <!-- Remove 1 second after snapping -->
      <StatusEffect type="Always" target="This" delay="1" checkconditionalalways="true">
        <Conditional Snapped="true" />
        <Remove />
      </StatusEffect>
      <!-- Snap after 5 seconds if not stuck to anything -->
      <StatusEffect type="OnUse" target="This" Snapped="true" delay="5" checkconditionalalways="true">
        <Conditional targetitemcomponent="Projectile" IsStuckToTarget="false" />
      </StatusEffect>
      <!-- Always snap after 15 seconds -->
      <StatusEffect type="OnUse" target="This" Snapped="true" delay="15" />
      <StatusEffect targettype="NearbyCharacters" Range="5" target="This" OnlyPlayerTriggered="True" >
        <Conditional Snapped="false" />
        <Remove />
      </StatusEffect>
    </Rope>
    <Projectile characterusable="false" launchimpulse="100.0" sticktocharacters="true" sticktoitems="true" sticktostructures="true" sticktodoors="true" sticktodeflective="true" sticktolighttargets="true" />
    <Upgrade gameversion="0.10.0.0" scale="0.5" />
  </Item>
</Items>
